{% extends 'base.html' %}

{% block title %}Daily Values â€“ Select CIK{% endblock %}

{% block content %}
<div class="card">
    <div class="toolbar">
        <div>
            <div class="hint">Pick a company to browse daily values.</div>
            {% if total is not none %}
            <div class="cik-note">Showing {{ cards|length }} of {{ total }}.</div>
            {% endif %}
        </div>
        <div><a class="button" href="/">Home</a></div>
    </div>

    {% if message %}
    <div class="warn">{{ message }}</div>
    {% endif %}

    <div id="cik-grid" class="cik-grid">
        {% for c in cards %}
        <a class="cik-card" href="/check-cik?cik={{ c.cik }}">
            <div class="cik-card__header">
                <div class="cik-card__title">{{ c.company_name or 'Company' }}</div>
                <div class="cik-card__cik">CIK {{ c.cik }}</div>
            </div>
            <dl class="cik-card__dl">
                {% for k, v in c.metadata.items() %}
                <dt>{{ k }}</dt>
                <dd>{{ v }}</dd>
                {% endfor %}
            </dl>
        </a>
        {% endfor %}
    </div>

    {% if has_more %}
    <div class="cik-actions">
        <button id="load-more" data-offset="{{ next_offset }}" data-limit="{{ limit }}">Load more</button>
    </div>
    {% endif %}
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/check_cik_cards.js') }}"></script>
{% endblock %}